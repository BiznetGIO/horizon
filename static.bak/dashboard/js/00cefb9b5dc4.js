(function(){"use strict";angular.module('horizon.app.core.trunks').factory('horizon.app.core.trunks.service',trunksService);trunksService.$inject=['horizon.app.core.openstack-service-api.neutron','horizon.app.core.openstack-service-api.userSession','horizon.app.core.detailRoute','$location'];function trunksService(neutron,userSession,detailRoute,$location){return{getDetailsPath:getDetailsPath,getTrunksPromise:getTrunksPromise,getTrunkPromise:getTrunkPromise};function getDetailsPath(item){return detailRoute+'OS::Neutron::Trunk/'+item.id;}
function getTrunksPromise(params){return userSession.get().then(getTrunksForProject);function getTrunksForProject(userSession){params.project_id=userSession.project_id;return neutron.getTrunks(params);}}
function getTrunkPromise(identifier){return neutron.getTrunk(identifier).then(getTrunkSuccess,getTrunkError);function getTrunkSuccess(trunk){return trunk;}
function getTrunkError(trunk){$location.url('project/trunks');return trunk;}}}})();