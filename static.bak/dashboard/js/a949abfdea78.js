(function(){"use strict";angular.module('horizon.app.core.network_qos').factory('horizon.app.core.network_qos.service',qosService);qosService.$inject=['$filter','horizon.app.core.openstack-service-api.neutron','horizon.app.core.openstack-service-api.userSession','horizon.app.core.detailRoute'];function qosService($filter,neutron,userSession,detailRoute){var version;return{getDetailsPath:getDetailsPath,getPoliciesPromise:getPoliciesPromise,getPolicyPromise:getPolicyPromise};function getDetailsPath(item){return detailRoute+'OS::Neutron::QoSPolicy/'+item.id;}
function getPoliciesPromise(params){return userSession.get().then(getQoSPolicies);function getQoSPolicies(){return neutron.getQoSPolicies(params).then(modifyResponse);}
function modifyResponse(response){return{data:{items:response.data.items.map(modifyQos)}};function modifyQos(policy){policy.trackBy=policy.id;policy.apiVersion=version;policy.name=policy.name||policy.id;return policy;}}}
function getPolicyPromise(identifier){return neutron.getQosPolicy(identifier);}}})();