(function(){'use strict';angular.module('horizon.app.core.metadata').factory('horizon.app.core.metadata.service',metadataService);metadataService.$inject=['horizon.app.core.openstack-service-api.nova','horizon.app.core.openstack-service-api.glance','horizon.app.core.openstack-service-api.cinder'];function metadataService(nova,glance,cinder){var service={getMetadata:getMetadata,editMetadata:editMetadata,getNamespaces:getNamespaces};return service;function getMetadata(resource,id){return{aggregate:nova.getAggregateExtraSpecs,flavor:nova.getFlavorExtraSpecs,image:glance.getImageProps,instance:nova.getInstanceMetadata,volume:cinder.getVolumeMetadata,volume_snapshot:cinder.getVolumeSnapshotMetadata,volume_type:cinder.getVolumeTypeMetadata}[resource](id);}
function editMetadata(resource,id,updated,removed){return{aggregate:nova.editAggregateExtraSpecs,flavor:nova.editFlavorExtraSpecs,image:glance.editImageProps,instance:nova.editInstanceMetadata,volume:cinder.editVolumeMetadata,volume_snapshot:cinder.editVolumeSnapshotMetadata,volume_type:cinder.editVolumeTypeMetadata}[resource](id,updated,removed);}
function getNamespaces(resource,propertiesTarget){var params={resource_type:{aggregate:'OS::Nova::Aggregate',flavor:'OS::Nova::Flavor',image:'OS::Glance::Image',instance:'OS::Nova::Server',volume:'OS::Cinder::Volume',volume_snapshot:'OS::Cinder::Snapshot',volume_type:'OS:Cinder::VolumeType'}[resource]};if(propertiesTarget){params.properties_target=propertiesTarget;}
return glance.getNamespaces(params,false);}}})();