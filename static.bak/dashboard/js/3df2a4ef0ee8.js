(function(){'use strict';angular.module('horizon.framework',['horizon.framework.conf','horizon.framework.util','horizon.framework.widgets']).config(config).run(run);config.$inject=['$injector','$provide','$interpolateProvider','$httpProvider','$windowProvider'];function config($injector,$provide,$interpolateProvider,$httpProvider,$windowProvider){var path=$windowProvider.$get().STATIC_URL+'framework/';$provide.constant('horizon.framework.basePath',path);$interpolateProvider.startSymbol('{$');$interpolateProvider.endSymbol('$}');$httpProvider.defaults.xsrfHeaderName='X-CSRFToken';$httpProvider.defaults.xsrfCookieName='csrftoken';$httpProvider.defaults.headers.common['X-Requested-With']='XMLHttpRequest';$httpProvider.defaults.headers.common['Content-Type']='application/json;charset=utf-8';if($injector.has('dropdownToggleDirective')){$provide.decorator('dropdownToggleDirective',patchDropdowns);}
patchDropdowns.$inject=['$delegate'];function patchDropdowns($delegate){var directive=$delegate[0];directive.restrict='A';return $delegate;}
$httpProvider.interceptors.push(redirect);$httpProvider.interceptors.push(stripAjaxHeaderForCORS);redirect.$inject=['$q'];function redirect($q){return{responseError:function(error){if(error.status===401){var $window=$windowProvider.$get();$window.location.replace($window.WEBROOT+'auth/logout');}
return $q.reject(error);}};}
stripAjaxHeaderForCORS.$inject=[];function stripAjaxHeaderForCORS(){return{request:function(config){if('X-Auth-Token'in config.headers){delete config.headers['X-Requested-With'];}
return config;}};}}
run.$inject=['$window','$rootScope'];function run($window,$rootScope){$window.recompileAngularContent=recompileAngularContent;function recompileAngularContent($element){function explicit($compile){$element.find('[ng-click]').off('click');$compile($element)($rootScope);}
explicit.$inject=['$compile'];$element.injector().invoke(explicit);}}})();