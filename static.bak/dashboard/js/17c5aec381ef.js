(function(){'use strict';angular.module('horizon.dashboard.project.workflow.launch-instance').controller('LaunchInstanceNetworkController',LaunchInstanceNetworkController);LaunchInstanceNetworkController.$inject=['$scope','horizon.framework.widgets.action-list.button-tooltip.row-warning.service','launchInstanceModel'];function LaunchInstanceNetworkController($scope,tooltipService,launchInstanceModel){var ctrl=this;ctrl.networkStatuses={'ACTIVE':gettext('Active'),'DOWN':gettext('Down')};ctrl.networkAdminStates={'UP':gettext('Up'),'DOWN':gettext('Down')};ctrl.tableDataMulti={available:$scope.model.networks,allocated:$scope.model.newInstanceSpec.networks,displayedAvailable:[],displayedAllocated:[],minItems:1};ctrl.tableLimits={maxAllocation:-1};ctrl.tableHelpText={allocHelpText:gettext('Select networks from those listed below.'),availHelpText:gettext('Select at least one network')};ctrl.tooltipModel=tooltipService;ctrl.networkFacets=[{label:gettext('Name'),name:'name',singleton:true},{label:gettext('Shared'),name:'shared',singleton:true,options:[{label:gettext('No'),key:false},{label:gettext('Yes'),key:true}]},{label:gettext('Admin State'),name:'admin_state',singleton:true,options:[{label:gettext('Up'),key:"UP"},{label:gettext('Down'),key:"DOWN"}]},{label:gettext('Status'),name:'status',singleton:true,options:[{label:gettext('Active'),key:"ACTIVE"},{label:gettext('Down'),key:"DOWN"}]}];function getPorts(){return launchInstanceModel.newInstanceSpec.ports;}
function toggleNetworksRequirement(newValue){if(newValue.length>0){ctrl.tableDataMulti.minItems=0;}
if(newValue.length===0){ctrl.tableDataMulti.minItems=1;}}
var portWatcher=$scope.$watch(getPorts,toggleNetworksRequirement,true);$scope.$on('$destroy',function(){portWatcher();});}})();